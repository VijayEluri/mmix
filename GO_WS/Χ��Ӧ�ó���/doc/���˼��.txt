子和块的概念已经比较明确。
再次基础上，形成一级块，是块之间比较松散的联合。一般情况下，具有同生共死的
特点，但程度不同，而且随着棋局进行，有可能分开。
而二级块的概念是指原始的块，互相连接。强调相邻性，而且颜色可以不同，主要用
于识别处于对杀的局部。


死活是围棋的基础，智能围棋的研究应该可以从死活的概念开始。
在棋块的概念基础上提出死活的定义。因为活棋比死棋更基础。死棋其实是暂时存在
的，终局会被提走。而活棋是真真切切存在棋盘上的。只要掌握了不要自己填眼的最低
知识，就可以和九段对抗，确保活棋。活棋和不要自己填眼的知识是联系在一起的。

活棋：分为单块活棋、两块活棋、多块活棋。

不入点：子数为1的气块，且周围的点为同一种颜色。就是一个空白点，四周为同色棋子。
不入点与禁着点的微妙区别：：
    不入点的周围若有一块棋子气为1，就可以落子该点。因为可以提子。
    如果周围点为一整块，且气为一，就可以整块提取。
不入点与眼的微妙区别：
    两者概念相近，不入点和眼的区别在于不入点只是一个点。而眼可能有更大的。
另外，眼可能需要区别真眼、假眼，而提及不入点时不考虑这个问题，所以不入点是
不区别真眼假眼的一般意义上的单眼。

虎口点：四周只有一气，其它为同色棋子。比不入点多一气。考虑连接性时有用。
      其实不入点是最强的连接点。

单块活棋：一块棋有两个不入点（眼）。因为只有一块棋，构成眼的棋子为同一块。
两块活棋：这两块都分别有两个不入点。这两个不如点可以为通常说的假眼。
    如“两头蛇”活棋。
多块活棋：两块活棋的扩展，要求每块棋都有至少两个不入点。

以上的两眼活棋，都是单眼，其实可以扩展到更大的眼。
   虽然从结果而言，大眼也是地域，但从最基础而言。这个地域还是需要演化的。就是
扑入提子的过程。比如：
OOOOOOOOOO
     OAAAO
     OA AOO
     OA AAO
     OOA AO
      OOAAO
OOOOOOOOOOO
O方还有一个劫材。扑入后才是最终结果。（掌握了不自己填眼就没有变化余地的结果）
此前的结果可以说是确定的局面。但变化没有穷尽。

O方的两种走法。都导致最原始的活棋定义。而应对的着法是最原始的搜索，除禁着点
外的所有点。当然在眼（或者要活棋的主体的气块）的内部选点。
另外有意思的是，如果O扑在上方。A方无须直接应对。因为再往下O方没有地方可走了。
因为要吃掉一块棋，必须有提子紧气的过程。对方无子可走，也就是吃不掉，本方也就
活了。这一点对双活也是成立的。
双活的存在，（做活时）走子比弃权好的说法就不成立了。但是对于吃棋提子，走子比
弃权好仍然成立（局部）。如盘角曲四，最终要走才能吃掉对方。
走子而做不活，不一定真死了，可能通过弃权可以双活。
走子而吃不掉，就是真的吃不掉，对方就活了。弃权也无济于事。
以上是以死活为目的的，如果涉及到官子和先后手，则变化已经确定就应该及时弃权。

扩展之一：从不入点的概念扩展到眼的概念。
一块棋有两个眼，就是活棋。（大眼也无妨）。
如果是两块棋构成一个整体（互相连接），要求每块棋都有两个眼。
同样可以扩展到多块棋。
这里的眼就是单色气块，不能是点过的眼。

虎口连接要注意的例外：
有觑时可断  有劫时可断
  OA          OAO
  A O         A  O
  OA          OAO


尝试证明下图可以活棋：
OOOOOOO
OaaaaO
Oa  aO
Oa aaO
OOa
***********//边界
计算出两个要点。上边重要，气2，两个不入点。其中一个真眼。










死子都已经提净时，胜负判断易于计算机化。
1.已经占领的点归该方所有
2.未占领的点，根据气块四周棋子颜色而定，属于单色，归该方所有。
  非单色则双方平分。这样，眼就是成眼方的。
至于人对局时双方弃权终局，因为死子没有提净，要做出判断比较难。
如果单官也没有收净，就更麻烦了。有时收单官时可能涉及紧气而翻盘。
而且双方弃权之后，若对裁判的结论有不同意见，双方可以续下，所以这是
实践中通行的，理论上却不严谨。

搜索虽然原理简单，实际要用于围棋，即使是简单的死活型，搜索的具体实现有很多的
问题需要考虑，虽然活棋的定义使部分最终局面（即活棋局面）可以识别，但是还有死
棋的最终局面没有定义。尤其是双活的存在使弃权有可能是唯一的最佳着手。
简单的曲三为例，做活方先手则一步搜索就是活棋。
攻击方先手则点眼之后是死棋，如何用计算机语言描述？
死棋可以定义为可以提取的棋，如果是死棋，就要有提吃的步骤。
遇到有两个或以上公气的棋型，做活方应该弃权，因为做活方弃权后，攻击方为了
吃棋，必须紧气，做活方趁机提吃；比直接吃到的眼型还大一号（仍有问题，小眼为曲四，
大眼却为刀五）。而且相对节约了两步棋，（这样搜索的结果对主体活棋与否的判断是
正确的，但是其它方面却很可能不正确，比如真正双活的局面。）所以搜索时同时考虑
弃权和紧气，但是紧气又涉及到外气的数目，攻击方无所谓，但是防守方必须保证不能使
自己处于别叫吃的状态。打吃要应，因为除了二汽眼之外，提吃总是划算的。因为光是直
接气就 划算了，还有可能因为眼型而增气。

死活题目 的抽象，围成气眼的外圈，不包括拐角点（所以主体必须属于同一块，由
此决定），主体的气数，外气（因为是大眼死活，还是容易判断的。）

以梅花五为例：
         A
        AOA
       AOOOA
        AOA
         A
目前的情况，A属于同一块，不管具体是如何连接在一起的。边也要表示。
四角八边之后，minmax到左上角，
A处为2，O处为0；不相关点用其它数表示。
实践的棋型根据气眼位置确定，不相关点不比较。
中间已经点眼的棋型如何表示。将空白点和攻击方的子联合起来，确定棋型。
每个局面，黑线结果如何；
白先结果如何，
结果是否相同，确定或者不确定。确定则双方均应脱先。
不确定则分别有何正解。相对坐标表示。

实践的板六搜索。气为0；做活方而言，气长只有好处，没有坏处，所以从0气开始考虑，
如果0外气能活，n外气就不用考虑了。
能否做活。
第一步：做活方有六个候选点，生成相应的六个局面，
第二步：选点的效果评分（做活方的评分，主要是成眼数和成虎口数，），判断是否结束
选中中间点继续展开，攻击方的评分包括气数，还有是否还有棋可走，无棋可走已经失败。
即使在基本死活的内部，搜索也要循序渐进，利用更基本的结论，就是要利用模式
的表达能力。



气的进一步划分，对于上百子的超级气块，其实没有多大的意义。需要进一步的划分。
某块棋子的气（直接气）属于一个更大的气块。可以将这些直接气按照纵横连接。如
果这个气块和整体的连接度为1，就可以做成新块、气眼。

光计算这种最终可以识别的气块，不够，要通过棋子的连接性，来判断一块棋有自己
做活的空间，
两块的连接
三块的连接
四块的连接。

连接点：两块棋的连接点，同时对方可以占领该点，非虎口点。且气数>2.若等于2。
则为挖。攻击方下为冲，防守方下为粘。

飞：日字的连接关系。
只有两种分断方法。

大飞的分断方法。
四种。

3月2日：debug和run的结果不一致，debug结果正确，但是reset 之后，exit with
code -1;but run exit with code 1。why?

眼位计算时，需要确定一些模糊的东西，比如一个眼要成为真眼，四个顶点必须占到
两个，或者因为虎口之类能确保已经占到两个，后者就有先手利用的问题，而且可能
出现先手利用的交叉。对这种一子两用的情形，要总结出模型。


劫争的总结：
形式劫争的判断：
1.落子后，提一子，自身为单子且气数为1
设落子点为a,被提子点为b；
a,b必然吡邻。
b落子前，a周围异色子气数>=1;
所以落子后a周围异色子气数>=2；
则a落子后，职能提走b这个单子。
局面从（有a,无b）到（无a，有b）再到(有a,无b)，就是简单劫争的循环。
出现（无a，有b）的局面，视为形式劫争的开始。（但是前进时返回前一局面）

2.落子后，形成单眼，？可能是原先有的眼构成眼的棋块中仅有一气数为一的单子棋块。
可识别出劫争的最初局面。
？还可能是落子后打吃眼。
如此，也可以将(有a,无b)作为形式劫争的最初局面。形成该局面的一方称为做劫方。
但是2可能考虑的没有1严密。
展开时这两个局面是相邻的。
通过把提子点放在优先候选的位置，可以及早发现劫争。
通过交换同层的局面，使两局面相邻。防备处理。
第一步，判断形式劫争是否有胜败问题。即劫胜和劫败的差别，保留作为结的价值判断
第二步，查看过程中有误避开劫争的手段。
第三步，查看整个计算过程中在形式劫争之前有没有避开的手段。

不仅在棋局进行过程中识别出劫争。动态的正在进行的劫争，而且要识别存在劫争的局面，
具体的局面可能有多个劫争存在。
1.首先识别出单子气块。
2.该气点周围的棋块是否属于同一块，即该单眼气块是否是眼（假眼）。
3.该气块的周围点所在块是否只有一个单点单气棋块。

该局面下是否可以提劫，取决于局面的历史，而不是局面本身能决定的。
识别了劫争的存在，也为计算选点提供了一个参考。

如果走了一步刚好两眼，那么之前的局面应该是没有活。计算时排除自己填眼的可能。

